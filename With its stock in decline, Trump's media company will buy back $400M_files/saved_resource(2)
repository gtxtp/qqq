!function(e){var n={};function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)t.d(r,o,function(n){return e[n]}.bind(null,o));return r},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);var r={log:function(){if(window.authentication_config&&window.authentication_config.debug){for(var e,n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];(e=console).log.apply(e,["EngageLibrary:"].concat(t))}}};function o(e){this.message=e}o.prototype=new Error,o.prototype.name="InvalidCharacterError";var i="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var n=String(e).replace(/=+$/,"");if(n.length%4==1)throw new o("'atob' failed: The string to be decoded is not correctly encoded.");for(var t,r,i=0,a=0,s="";r=n.charAt(a++);~r&&(t=i%4?64*t+r:r,i++%4)?s+=String.fromCharCode(255&t>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function a(e){var n=e.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(i(n).replace(/(.)/g,function(e,n){var t=n.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}catch(e){return i(n)}}function s(e){this.message=e}s.prototype=new Error,s.prototype.name="InvalidTokenError";var c=function(e,n){if("string"!=typeof e)throw new s("Invalid token specified");var t=!0===(n=n||{}).header?0:1;try{return JSON.parse(a(e.split(".")[t]))}catch(e){throw new s("Invalid token specified: "+e.message)}};function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach(function(n){d(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function d(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=g(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!=g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==g(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function g(e){"@babel/helpers - typeof";return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){return function(e){if(Array.isArray(e))return L(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return m(l,"_invoke",function(t,r,o){var i,s,c,l=0,u=o||[],d=!1,g={p:0,n:0,v:e,a:w,f:w.bind(e,4),d:function(n,t){return i=n,s=0,c=e,g.n=t,a}};function w(t,r){for(s=t,c=r,n=0;!d&&l&&!o&&n<u.length;n++){var o,i=u[n],w=g.p,h=i[2];t>3?(o=h===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=w&&((o=t<2&&w<i[1])?(s=0,g.v=r,g.n=i[1]):w<h&&(o=t<3||i[0]>r||r>h)&&(i[4]=t,i[5]=r,g.n=h,s=0))}if(o||t>1)return a;throw d=!0,r}return function(o,u,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&w(u,h),s=u,c=h;(n=s<2?e:c)||!d;){i||(s?s<3?(s>1&&(g.n=-1),w(s,c)):g.n=c:g.v=c);try{if(l=2,i){if(s||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,s<2&&(s=0)}else 1===s&&(n=i.return)&&n.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((n=(d=g.n<0)?c:t.call(r,g))!==a)break}catch(n){i=e,s=1,c=n}finally{l=1}}return{value:n,done:d}}}(t,o,i),!0),l}var a={};function s(){}function c(){}function l(){}n=Object.getPrototypeOf;var u=[][r]?n(n([][r]())):(m(n={},r,function(){return this}),n),d=l.prototype=s.prototype=Object.create(u);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,m(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,m(d,"constructor",l),m(l,"constructor",c),c.displayName="GeneratorFunction",m(l,o,"GeneratorFunction"),m(d),m(d,o,"Generator"),m(d,r,function(){return this}),m(d,"toString",function(){return"[object Generator]"}),(h=function(){return{w:i,m:g}})()}function m(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(m=function(e,n,t,r){if(n)o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t;else{var i=function(n,t){m(e,n,function(e){return this._invoke(n,t,e)})};i("next",0),i("throw",1),i("return",2)}})(e,n,t,r)}function y(e,n,t,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){y(i,r,o,a,s,"next",e)}function s(e){y(i,r,o,a,s,"throw",e)}a(void 0)})}}function p(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i,a,s=[],c=!0,l=!1;try{if(i=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=i.call(t)).done)&&(s.push(r.value),s.length!==n);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(l)throw o}}return s}}(e,n)||b(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,n){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=b(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==t.return||t.return()}finally{if(s)throw i}}}}function b(e,n){if(e){if("string"==typeof e)return L(e,n);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(e,n):void 0}}function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=Array(n);t<n;t++)r[t]=e[t];return r}var S=function(){window.engageLibrary=window.engageLibrary||{},window.engageLibrary.sophiResponseCheckedAlready=!1;var e="auth0_sub",n="mng-entitlements",t="__MNG_Session",o="regwallUserIsSubscribed";window.engageLibrary.allowedSophiPrefIds=[137,179,180,147,148,99,100,103,101,102,138,136,137,139,307,308,304,334,303,305,398,399,309,310,311,312,313,316,315,317,314,318,332,331,333,330,150,319,323,325,324,321,322,320,326,327,328,329,287,426,420,422,418,419,424,428,427,423,421,425,606,607,608,609,610,611,628,629,630,631,632,633,634,635,636,637,215,216,217,218,2057,219,2037,2041,221,223,224,225,226,181,182,159,478,479,695,696,697,698,2042,220,2047,2038,2048,2049,2050,2051,2052,2053,2054,2055,2056,222,699,700,701,702,703,704,705,2008,2009,2010,2011,2012,2013,329,747,564,565,566,567,568,332,319,132,131,183,184,185,187];var i=window.location;function a(e){var n=blueConicClient.getSegments(),t=[];if(n.length>0)for(var o=0;o<n.length;o+=1)t.push(n[o].name);if("string"==typeof e){var i=t.includes(e);return r.log("User is in segment ".concat(e,": ").concat(i)),i}if(Array.isArray(e)){for(var a=0;a<e.length;a+=1)if(t.includes(e[a]))return r.log("User is in segment ".concat(e[a])),!0;return r.log("User is NOT in the segments:",e),!1}return r.log("Segment provided was neither array nor string.",e),!1}var s=function(){var e=window.location.href;return new URL(e)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=s().hostname;e&&"string"==typeof e&&(n=e);var t=n.split(".");return"".concat(t[t.length-2],".").concat(t[t.length-1])};function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90;if("undefined"==typeof dataLayer)return r.log("false: no data layer"),!1;var n=window.dataLayer.find(function(e){return"free"===e.Paywall_Level||"premium"===e.Paywall_Level||"article"!==e["Page Type"]&&"UA-61435456-39"===e.ga_ua});if(n)return r.log("archive check: stop checking because of: ",n),!1;r.log("archive check: business check good, now check date");var t=i.href.split("/"),o="".concat(t[4],"/").concat(t[5],"/").concat(t[3]);r.log(o);var a=new Date,s=new Date(o),c=new Date(s.setDate(s.getDate()+e));return r.log(c),r.log(a),a>c?(r.log("archive check: within the ".concat(e," days")),!0):(r.log("archive check: has not been 90 days yet"),!1)}function m(e){var n=document.querySelector("article")?document.querySelector("article").classList:null;if(null==n)return!1;var t,r=[],o=v((e=e.split(",")).entries());try{for(o.s();!(t=o.n()).done;){var i=p(t.value,2),a=(i[0],i[1]);a=(a=(a=(a="tag-"+a).toLowerCase()).replaceAll(" ","-")).replaceAll("--","-"),r.push(a)}}catch(e){o.e(e)}finally{o.f()}var s,c=v(r.entries());try{for(c.s();!(s=c.n()).done;){var l=p(s.value,2),u=l[0],d=l[1];if(d+="",n.contains(d))return!0;if(u===r.length-1)return!1}}catch(e){c.e(e)}finally{c.f()}}function y(e){var n=window.location.hostname;return n=n.replace("www.","").replace("preprod.","").replace("develop.",""),!(-1===e.indexOf(n))}window.engageLibrary.userIsAuthenticated=function(){if(void 0!==window.MNGAuthentication&&void 0!==window.MNGAuthentication.authenticationReady)return r.log("engageLibrary.js | Authentication already ready: ",window.MNGAuthentication.authenticationReady),window.MNGAuthentication.authenticationReady.isAuthenticated;var e=JSON.parse(window.localStorage.getItem("__MNG_Session"));return!!e&&!!e.idToken},window.engageLibrary.tagsExist=function(e){if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(!m(e[n]))return r.log('Tag "'.concat(e[n],'" does not exist.')),!1;return r.log("All tags exist"),!0}return r.log("No tags provided"),!1};var b=function(){return window.sophiCookie};function L(e,n,t,o,i,a,s){var c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:500,l=arguments.length>8&&void 0!==arguments[8]&&arguments[8];e.preventDefault();var u=function(e){var n=new RegExp(/^(([^<>()\[\]\\.,;:\s@']+(\.[^<>()\[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i);return e?n.test(e)?(jQuery("#registration__form .submit").text("submitting..."),{valid:!0,message:""}):{valid:!1,message:"Please, enter a valid email."}:{valid:!1,message:"Please, enter an email."}}(n.val());if(A(u,t,n),u.valid&&o.length>0){var d,g=decodeURIComponent(o);try{d=JSON.parse(g)}catch(e){d=g}Array.isArray(d)&&(d=prefIds[0].id.split(",")),CnnXt.API.NewsletterSubscribe({email:n.val(),id:d,onSuccess:function(){i.hide(),s&&a.html(s),a.show(),function(e){window.engageLibrary.allowedSophiPrefIds.includes(e)&&((window._matherq=window._matherq||[]).push(["paywallEvent",{category:"registration_lite",action:"created"}]),window.localStorage.setItem("sophiRegiliteUser","yes"),r.log("Dispatched registration_lite event to mather."))}(d),A({valid:!0},t,n),n.val(""),localStorage.setItem("regwallSuccess","yes"),l&&N(),setTimeout(function(){Connext.Run()},c)},onError:function(e){w(e||(e={Message:"Error! Empty result or no connection"}))}})}else 0===o.length&&S("Newsletter field is empty",t,!0);function w(e){A({valid:!1,message:e.ErrorMessage||e.Message},t,n)}}function S(e,n,t){t?(n.html(e),n.show()):(n.text(""),n.hide())}function A(e,n,t){e.valid?(S("",n,!1),t.removeClass("connext-validation-error")):(S(e.message,n,!0),t.addClass("connext-validation-error"))}function I(e){var n;switch(e){case 1:n="A";break;case 2:n="B";break;case 3:n="C";break;case 4:n="D";break;case 5:n="E";break;default:n="empty"}return n}function _(){var e={},n=P(),t=n?n.Name:null;if(window.sophiWallConfig&&!window.sophiWallConfig.error&&(e=window.sophiWallConfig),!window.engageLibrary.sophiResponseCheckedAlready){var r={event:"sophi_decision",sophi_type:"getSophiDataDenver",sophi_variant:JSON.stringify(b()),sophi_response:JSON.stringify(e)};t&&(r.sophi_conv=t),window.dataLayer.push(r)}return window.engageLibrary.sophiResponseCheckedAlready=!0,e}function k(e){for(var n="".concat(e,"="),t=decodeURIComponent(document.cookie).split(";"),r=0;r<t.length;r+=1){var o=t[r].trimLeft();if(0===o.indexOf(n))return o.substring(n.length,o.length)}return!1}window.engageLibrary.pageIsInPreview=function(){var e=window.location,n=new URL(e);return n.searchParams.has("preview_id")||n.searchParams.has("preview")},window.engageLibrary.panymaGiveBCAccess=function(){return a("PANYMA All Subs + Recents")},window.engageLibrary.caGiveBCAccess=function(){return a("CA Print Only Subs")},window.engageLibrary.pmpGiveBCAccess=function(){return a("PMP_KnownNonSubsAll")},window.engageLibrary.allSubsGiveBCAccess=function(){return a("All Active Subscribers")},window.engageLibrary.crossOverGiveBCAccess=function(){return a("CrossOver PremSubs")},window.engageLibrary.subscribersForMigration=function(){return a("Subscribers for Migration")},window.engageLibrary.bcAdblockDetection=function(){return a("Adblock Users")},window.engageLibrary.isEntitledValue=function(){var e=window.localStorage.getItem("__MNG_Session");return!(!e||""===e)&&!0===JSON.parse(e).isEntitled},window.engageLibrary.printCheck=function(){if(Connext){var e,n=null===(e=Connext.Storage.GetUserData().DigitalAccess.Subscription)||void 0===e?void 0:e.HousholdSubscriptionLevel;return!!["5","16","23","25","35","36","43","45","55","65","75","85","95","105","115","145"].find(function(e){return e===n})}return!1},window.engageLibrary.checkForHHSLs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Array.isArray(e)&&Connext){var n,t=null===(n=Connext.Storage.GetUserData().DigitalAccess.Subscription)||void 0===n?void 0:n.HouseholdSubscriptionLevel;return!!e.find(function(e){return e===t})}return!1},window.engageLibrary.getDataLayerEntry=function(e){if(void 0!==window.dataLayer&&e&&e.length>0){var n=window.dataLayer.find(function(n){return n[e]});return!!n&&n[e]}return!1},window.engageLibrary.getPageType=function(){if(void 0!==window.dataLayer){var e=window.dataLayer.find(function(e){return e["Page Type"]});return!!e&&e["Page Type"]}return!1},window.engageLibrary.getSection=function(){if("undefined"!=typeof dataLayer){var e=window.dataLayer.find(function(e){return e.Section});return!!e&&e.Section}return!1},window.engageLibrary.getPaywallLevel=function(){if("undefined"!=typeof dataLayer){var e=window.dataLayer.find(function(e){return e.Paywall_Level});return!!e&&e.Paywall_Level}return!1},window.engageLibrary.testingLocalStorage=function(){var e,n=localStorage.getItem("abLocal");n?window.dataLayer.push({event:"abLocal_event",abLocal:n}):(e=I(Math.floor(Math.random()*Math.floor(2))+1),localStorage.setItem("abLocal",e),window.dataLayer.push({event:"abLocal_event",abLocal:e}));var t=localStorage.getItem("abcLocal");t?window.dataLayer.push({event:"abcLocal_event",abcLocal:t}):(e=I(Math.floor(Math.random()*Math.floor(3))+1),localStorage.setItem("abcLocal",e),window.dataLayer.push({event:"abcLocal_event",abcLocal:e})),localStorage.getItem("abcdLocal")||(e=I(Math.floor(Math.random()*Math.floor(4))+1),localStorage.setItem("abcdLocal",e)),localStorage.getItem("abcdeLocal")||(e=I(Math.floor(Math.random()*Math.floor(5))+1),localStorage.setItem("abcdeLocal",e));var r="Nothing set since cookies already existed.";return e&&(r="Group set to ".concat(e)),"This function only sets cookies, does not return a value. ".concat(r)},window.engageLibrary.getABVariant=function(){return localStorage.getItem("abLocal")},window.engageLibrary.getABCVariant=function(){return localStorage.getItem("abcLocal")},window.engageLibrary.getABCDVariant=function(){return localStorage.getItem("abcdLocal")},window.engageLibrary.testingSessionStorage=function(){var e;window.sessionStorage.getItem("abSession")||(e=I(Math.floor(Math.random()*Math.floor(2))+1),window.sessionStorage.setItem("abSession",e)),window.sessionStorage.getItem("abcSession")||(e=I(Math.floor(Math.random()*Math.floor(3))+1),window.sessionStorage.setItem("abcSession",e)),window.sessionStorage.getItem("abcdSession")||(e=I(Math.floor(Math.random()*Math.floor(4))+1),window.sessionStorage.setItem("abcdSession",e)),window.sessionStorage.getItem("abcdeSession")||(e=I(Math.floor(Math.random()*Math.floor(5))+1),window.sessionStorage.setItem("abcdeSession",e));var n="Nothing set since cookies already existed.";return e&&(n="Group set to ".concat(e)),"This function only sets cookies, does not return a value. ".concat(n)},window.engageLibrary.premiumFeatureExclusiveDP=function(){return window.location.hostname.includes("denverpost")&&document.getElementById("main").querySelector("article").className.includes("feature-exclusive")},window.engageLibrary.bcLowaCheck=function(){var e=i.hostname;e=e.replace("www.","").replace("preprod.","").replace("develop.","");var n=["dailycamera.com","denverpost.com","timescall.com","reporterherald.com","greeleytribune.com","eptrail.com","canoncitydailyrecord.com","journal-advocate.com","fortmorgantimes.com"],t=["mercurynews.com","eastbaytimes.com","marinij.com","santacruzsentinel.com"],r=["dailybulletin.com","dailynews.com","presstelegram.com","ocregister.com","pasadenastarnews.com","pe.com","pressenterprise.com","redlandsdailyfacts.com","sbsun.com","sgvtribune.com","dailybreeze.com","whittierdailynews.com","sandiegouniontribune.com"],o=["morningjournal.com","news-herald.com"],s=["thereporteronline.com","delcotimes.com","timesherald.com","pottsmerc.com","trentonian.com","dailylocal.com","readingeagle.com"],c=["dailyfreeman.com","oneidadispatch.com","saratogian.com","troyrecord.com"],l=["bostonherald.com","lowellsun.com","sentinelandenterprise.com"],u=["montereyherald.com","chicoer.com","orovillemr.com","redbluffdailynews.com","paradisepost.com","thereporter.com","timesheraldonline.com","dailydemocrat.com","record-bee.com","ukiahdailyjournal.com","times-standard.com"];return-1!==["dailytribune.com","macombdaily.com","morningjournal.com","pressandguide.com","thenewsherald.com","themorningsun.com","theoaklandpress.com"].indexOf(e)?a("MICH LOWA"):-1!==o.indexOf(e)?a("OHIO LOWA"):-1!==s.indexOf(e)?a("PENN LOWA"):-1!==c.indexOf(e)?a("NY LOWA"):-1!==l.indexOf(e)?a("BOSTON LOWA"):-1!==u.indexOf(e)?a("NORCAL LOWA"):"twincities.com"===e?a("TWIN CITIES LOWA"):-1!==n.indexOf(e)?a("DENV/PMP LOWA"):-1!==r.indexOf(e)?a("SCNG LOWA"):-1!==t.indexOf(e)?a("BANG LOWA"):e.includes("mcall.com")?a("AMC LOWA"):e.includes("courant.com")?a("HC LOWA"):e.includes("growthspotter.com")?a("GS LOWA"):e.includes("orlandosentinel.com")?a("ORL LOWA"):e.includes("sun-sentinel.com")?a("SS LOWA"):e.includes("dailypress.com")?a("NNDP LOWA"):e.includes("pilotonline.com")?a("VP LOWA"):e.includes("nydailynews.com")?a("NYDN LOWA"):e.includes("baltimoresun.com")?a("BAL LOWA"):e.includes("capitalgazette.com")?a("CG LOWA"):e.includes("chicagotribune.com")?a("CHI LOWA"):-1!==["citizensvoice.com","republicanherald.com","standardspeaker.com","thetimes-tribune.com","wcexaminer.com"].indexOf(e)&&a("NEPA LOWA")},window.engageLibrary.mercurynewsIsMeteredArchive=function(){return-1===i.host.search("mercurynews")?(r.log("archive check: not on mercurynews"),!1):d()},window.engageLibrary.ocregisterIsMeteredArchive=function(){return-1===i.host.search("ocregister")?(r.log("archive check: not on ocregister"),!1):d()},window.engageLibrary.pressenterpriseIsMeteredArchive=function(){return-1===i.host.search("pressenterprise")?(r.log("archive check: not on pressenterprise"),!1):d()},window.engageLibrary.eastbayIsMeteredArchive=function(){return-1===i.host.search("eastbaytimes")?(r.log("archive check: not on eastbaytimes"),!1):d()},window.engageLibrary.marinijIsMeteredArchive=function(){return-1===i.host.search("marinij")?(r.log("archive check: not on marinij"),!1):d()},window.engageLibrary.bostonheraldIsMeteredArchive=function(){return-1===i.host.search("bostonherald")?(r.log("archive check: not on bostonherald"),!1):d()},window.engageLibrary.lowellsunIsMeteredArchive=function(){return-1===i.host.search("lowellsun")?(r.log("archive check: not on lowellsun"),!1):d()},window.engageLibrary.sentinelIsMeteredArchive=function(){return-1===i.host.search("sentinelandenterprise")?(r.log("archive check: not on sentinelandenterprise"),!1):d()},window.engageLibrary.dailyfreemanIsMeteredArchive=function(){return-1===i.host.search("dailyfreeman")?(r.log("archive check: not on dailyfreeman"),!1):d()},window.engageLibrary.dailycameraIsMeteredArchive=function(){return-1===i.host.search("dailycamera")?(r.log("archive check: not on dailycamera"),!1):d()},window.engageLibrary.greeleytribuneIsMeteredArchive=function(){return-1===i.host.search("greeleytribune")?(r.log("archive check: not on greeleytribune"),!1):d()},window.engageLibrary.reporterheraldIsMeteredArchive=function(){return-1===i.host.search("reporterherald")?(r.log("archive check: not on reporterherald"),!1):d()},window.engageLibrary.timescallIsMeteredArchive=function(){return-1===i.host.search("timescall")?(r.log("archive check: not on timescall"),!1):d()},window.engageLibrary.santacruzsentinelIsMeteredArchive=function(){return-1===i.host.search("santacruzsentinel")?(r.log("archive check: not on santacruzsentinel"),!1):d()},window.engageLibrary.montereyheraldIsMeteredArchive=function(){return-1===i.host.search("montereyherald")?(r.log("archive check: not on montereyherald"),!1):d()},window.engageLibrary.chicoerIsMeteredArchive=function(){return-1===i.host.search("chicoer")?(r.log("archive check: not on chicoer"),!1):d()},window.engageLibrary.courantIsMeteredArchive=function(){return-1===i.host.search("courant")?(r.log("archive check: not on courant"),!1):d(30)},window.engageLibrary.mcallIsMeteredArchive=function(){return-1===i.host.search("mcall")?(r.log("archive check: not on mcall"),!1):d(30)},window.engageLibrary.orlandosentinelIsMeteredArchive=function(){return-1===i.host.search("orlandosentinel")?(r.log("archive check: not on orlandosentinel"),!1):d(30)},window.engageLibrary.sunsentinelIsMeteredArchive=function(){return-1===i.host.search("sun-sentinel")?(r.log("archive check: not on sun-sentinel"),!1):d(30)},window.engageLibrary.pilotonlineIsMeteredArchive=function(){return-1===i.host.search("pilotonline")?(r.log("archive check: not on pilotonline"),!1):d(30)},window.engageLibrary.dailypressIsMeteredArchive=function(){return-1===i.host.search("dailypress")?(r.log("archive check: not on dailypress"),!1):d(30)},window.engageLibrary.nydailynewsIsMeteredArchive=function(){return-1===i.host.search("nydailynews")?(r.log("archive check: not on nydailynews"),!1):d(30)},window.engageLibrary.baltimoresunIsMeteredArchive=function(){return-1===i.host.search("baltimoresun")?(r.log("archive check: not on baltimoresun"),!1):d(30)},window.engageLibrary.capitalgazetteIsMeteredArchive=function(){return-1===i.host.search("capitalgazette")?(r.log("archive check: not on capitalgazette"),!1):d(30)},window.engageLibrary.SDUTIsMeteredArchive=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return-1===i.host.search("sandiegouniontribune")?(r.log("archive check: not on sandiegouniontribune"),!1):d(e)},window.engageLibrary.NEPAIsMeteredArchive=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:90;return-1===i.host.search("republicanherald|standardspeaker|citizensvoice|thetimes-tribune|wcexaminer")?(r.log("archive check: not on republicanherald, standardspeaker, citizensvoice, thetimes-tribune, or wcexaminer"),!1):d(e)},window.engageLibrary.articleSharingExpire=function(){var e,n,t,r;return void 0!==(null===(e=window.MNGAuthentication)||void 0===e?void 0:e.articleShare)&&"null"!==(null===(n=window.MNGAuthentication)||void 0===n?void 0:n.articleShare)&&!1!==(null===(t=window.MNGAuthentication)||void 0===t?void 0:t.articleShare)&&""!==(null===(r=window.MNGAuthentication)||void 0===r?void 0:r.articleShare)},window.engageLibrary.getRegwallSuccess=function(){return!!localStorage.getItem("regwallSuccess")&&"yes"},window.engageLibrary.getRegwallKnown=function(){return!!localStorage.getItem("regwallKnown")&&"yes"};var C=function(e,n,t){var o="".concat(e,"=").concat(n,";");void 0!==t?(r.log("Setting cookie with options: ",t),Object.entries(t).forEach(function(e){var n=p(e,2),t=n[0],r=n[1];if("expires"===t){var i=new Date;i.setTime(i.getTime()+24*r*60*60*1e3),o+="expires=".concat(i.toUTCString(),";")}else o+="".concat(t,"=").concat(r,";")})):o+="path=/;",document.cookie=o},M=function(){var e=l();return".".concat(e)},O=function(){var e=f(h().m(function e(n,t){var r;return h().w(function(e){for(;;)switch(e.n){case 0:return e.n=1,blueConicClient.profile.getProfile();case 1:(r=e.v).setValue(n,t),blueConicClient.profile.updateProfile(r);case 2:return e.a(2)}},e)}));return function(n,t){return e.apply(this,arguments)}}(),N=function(){"A"===window.engageLibrary.getABVariant()&&O("test_7_day_trial",!1),"B"===window.engageLibrary.getABVariant()&&O("test_7_day_trial",!0)};function P(){try{var e,n,t;return null!==(e=null===(n=window.Connext)||void 0===n?void 0:null===(t=n.Storage)||void 0===t?void 0:t.GetCurrentConversation())&&void 0!==e?e:null}catch(e){return r.log("MNG getConnextConversation:",e),null}}window.engageLibrary.checkBCForNonSub=function(){var e=decodeURIComponent(document.cookie).split(";"),n=window.location.hostname;n=n.replace("www.","").replace("preprod.","").replace("develop.","");var t=0;for(t=0;t<e.length;t+=1){if(1===e[t].indexOf("mng-entitlements"))return!0;if(e.length===t+1){if("undefined"==typeof Connext)return!1;var r=[];switch(Connext.Storage.GetConfigCode()){case"PMPMIWEEKLIES":r=["PMP_KnownNonSubsAll","MICH_KnownNonSubsAll","SegmentName"];break;case"PPSTPRODWP":r="PPST_KnownNonSubsAll";break;case"BANGWPPRODWAB":case"HIGHMETERBAND":r="BANG_KnownNonSubsAll";break;case"21CWPPROD":r="21C_KnownNonSubsAll";break;case"BHMAWPPROD":r=["BH_KnownNonSubsAll","NY_KnownNonSubsAll"];break;case"DENVERPRODWP":r="DP_KnownNonSubsAll";break;case"NORCALNVPRODWP":case"NORCALWEEKWP":r="NORCAL_KnownNonSubsAll";break;case"NORCALPRODWP":r=["NORCAL_KnownNonSubsAll","BANG_KnownNonSubsAll","SegmentName"];break;case"PMPWPPROD":r="PMP_KnownNonSubsAll";break;case"SCNGPRODWP":r="SCNG_KnownNonSubsAll";break;case"200CONFIGTRIB":r="BAL KnownNonSubs Alltime";break;case"247CONFIGTRIB":r="CG KnownNonSubs Alltime";break;case"850CONFIGTRIB":r="NYDN KnownNonSubs Alltime";break;case"518CONFIGTRIB":r="GS KnownNonSubs Alltime";break;case"600CONFIGTRIB":r="HC KnownNonSubs Alltime";break;case"500CONFIGTRIB":r="ORL KnownNonSubs Alltime";break;case"400CONFIGTRIB":r="SS KnownNonSubs Alltime";break;case"800CONFIGTRIB":r="AMC KnownNonSubs Alltime";break;case"700CONFIGTRIB":r="NNDP KnownNonSubs Alltime";break;case"750CONFIGTRIB":r="VP KnownNonSubs Alltime"}return a(r)}}return!1},window.engageLibrary.allReadersTag=function(){return document.querySelector("main article").length>0&&document.querySelector("main article").hasClass("tag-all-readers")},window.engageLibrary.isOpinionPiece=function(){return m("Opinion")},window.engageLibrary.isEspanolContent=function(){return m("espanol")||"Espanol"===window.engageLibrary.getSection()},window.engageLibrary.isPhotosAndVideos=function(){return m("photos and videos")},window.engageLibrary.isAthleteOfWeek=function(){return m("athlete of the week")},window.engageLibrary.isContests=function(){return m("contests")},window.engageLibrary.getTaxonomy1=function(){if("undefined"!=typeof dataLayer){var e=window.dataLayer.find(function(e){return e.Taxonomy1});return!!e&&e.Taxonomy1}return!1},window.engageLibrary.profileDropDownExists=function(){return!!document.getElementById("profileDropDown")},window.engageLibrary.twinCitiesKnownEmail=function(){return a("Twincities - known email")},window.engageLibrary.twinCitiesUrlCheck=function(){return y(["twincities.com"])},window.engageLibrary.pmpUrlCheck=function(){return y(["greeleytribune.com","dailycamera.com","timescall.com","reporterherald.com"])},window.engageLibrary.paywallTimer=function(){var e=Date.now(),n=0;"undefined"!=typeof MNG_SSO_TOOLS_GLOBAL_START_TIME&&(n=e-MNG_SSO_TOOLS_GLOBAL_START_TIME),window.dataLayer.push({"Timer.PaywallShown":n}),performance.mark("connext_onPaywallShown")},window.engageLibrary.inlineNewsletter=function(){r.log("inlineNewsletter start");var e=jQuery(".Mg2-newsletter-inline_notif_mng .connext-email-input"),n=jQuery(".Mg2-newsletter-inline_notif_mng .connext-error-message"),t=jQuery(".Mg2-newsletter-inline_notif_mng .hide-on-success"),o=jQuery(".Mg2-newsletter-inline_notif_mng .show-on-success"),i=jQuery(".Mg2-newsletter-inline_notif_mng span[data-tmpl-action-name='Newsletter']").text(),a=jQuery(".Mg2-newsletter-inline_notif_mng div[data-tmpl-action-name='Success message']").html()||jQuery(".Mg2-newsletter-inline_notif_mng div[data-tmpl-action-name='Success message']").data("tmpl-action-value");jQuery(".Mg2-newsletter-inline_notif_mng span[data-tmpl-action-name='Error message']").html(),jQuery(document.body).on("click",".Mg2-newsletter-inline_notif_mng .submit",function(r){L(r,e,n,i,t,o,a)}),jQuery(document.body).on("input",".Mg2-newsletter-inline_notif_mng .connext-email-input",function(e){A({valid:!0})}),r.log("inlineNewsletter end")},window.engageLibrary.inlineRegwall1=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.engageLibrary.paywallTimer();var t=jQuery("#registration__form .connext-email-input"),r=jQuery("#registration__form .connext-error-message"),o=jQuery("#registrationWall1 .hide-on-success"),i=jQuery("#registrationWall1 .show-on-success"),a=jQuery("#registrationWall1 .registrationWallID").text(),s=jQuery("#registration__form div[data-tmpl-action-name='Success message']").html()||jQuery("#registration__form div[data-tmpl-action-name='Success message']").data("tmpl-action-value");jQuery("#registration__form span[data-tmpl-action-name='Error message']").html(),jQuery(document.body).on("click","#registration__form .submit",function(c){L(c,t,r,a,o,i,s,e,n)}),jQuery(document.body).on("input","#registration__form .connext-email-input",function(e){A({valid:!0},r,t)})},window.engageLibrary.inlineRegwall=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];window.engageLibrary.paywallTimer();var t=jQuery("#registration__form .connext-email-input"),r=jQuery("#registration__form .connext-error-message"),o=jQuery("#registrationWall .hide-on-success"),i=jQuery("#registrationWall .show-on-success"),a=jQuery("#registrationWall .registrationWallID").text(),s=jQuery("#registration__form div[data-tmpl-action-name='Success message']").html()||jQuery("#registration__form div[data-tmpl-action-name='Success message']").data("tmpl-action-value");jQuery("#registration__form span[data-tmpl-action-name='Error message']").html(),jQuery(document.body).on("click","#registration__form .submit",function(c){L(c,t,r,a,o,i,s,e,n)}),jQuery(document.body).on("input","#registration__form .connext-email-input",function(e){A({valid:!0},r,t)})},window.engageLibrary.regilite=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=jQuery(".regiwall-input"),r=jQuery(".connext-error-message");jQuery(document.body).on("click","#regiliteSubButtonId",function(t){L(t,jQuery(".regiwall-input"),jQuery(".connext-error-message"),jQuery(".registrationWallID").text(),jQuery(".hide-on-success"),jQuery(".show-on-success"),!1,e,n)}),jQuery(document.body).on("input",".regiwall-input",function(e){A({valid:!0},r,t)})},window.engageLibrary.loginLogoutButtons=function(){var e=document.querySelectorAll(".engageLogoutLink"),n=document.querySelectorAll(".engageLoginLink");window.engageLibrary.userIsAuthenticated()?(e.forEach(function(e){var n=e;n.style.visibility="visible",n.style.display="block",n.addEventListener("click",t),n.addEventListener("keydown",t)}),n.forEach(function(e){e.style.display="none"})):(n.forEach(function(e){var n=e;n.style.visibility="visible",n.style.display="block";var t=n.querySelector("a");if(t&&t.length>0){n.querySelector("a").textContent="Log in";var r=new URL(n.querySelector("a").href),o=new URLSearchParams(r);o.append("returnUrl",s()),n.querySelector("a").setAttribute("href","".concat(r,"?").concat(o))}}),e.forEach(function(e){e.style.display="none"}));var t=function(e){try{void 0!==window.MNGAuthentication&&("keydown"===e.type&&"Enter"===e.key||"click"===e.type)&&(e.preventDefault(),window.MNGAuthentication.logout())}catch(e){r.log(e)}}},window.engageLibrary.expandCollapseJquery=function(){jQuery(document).ready(function(){var e=jQuery("[data-nxt-template-substep= 'Collapsed']"),n=jQuery("[data-nxt-template-substep= 'Expanded']"),t=jQuery(".collapse-button"),r=jQuery(".expand-button");t.on("click",function(){n.hide(),e.show()}),r.on("click",function(){n.show(),e.hide()})})},window.engageLibrary.hybridHardwall=function(){window.engageLibrary.paywallTimer();var e=jQuery("#registration__form .connext-email-input"),n=jQuery("#registration__form .connext-error-message"),t=jQuery("#registrationWall .hide-on-success"),r=jQuery("#registrationWall .show-on-success"),o=jQuery("#registrationWallID").text(),i=jQuery("#registration__form div[data-tmpl-action-name='Success message']").html()||jQuery("#registration__form div[data-tmpl-action-name='Success message']").data("tmpl-action-value");jQuery("#registration__form span[data-tmpl-action-name='Error message']").html(),jQuery(document.body).on("click","#registration__form .submit",function(a){L(a,e,n,o,t,r,i)}),jQuery(document.body).on("input","#registration__form .connext-email-input",function(t){A({valid:!0},n,e)})},window.engageLibrary.lowaLoginEvent=function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"lowa_login_click",lowa_click:"login"})},window.engageLibrary.lowaCloseEvent=function(){window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"lowa_login_click",lowa_click:"dismiss"})},window.engageLibrary.whySubscribePageCheck=function(){return"why-subscribe"===window.location.pathname.split("/")[1]},window.engageLibrary.isSophiVariantOrHoldout=function(){var e=b(),n=P(),t=n?n.Name:null;console.log("Sophi isSophiVariantOrHoldout",e);var r={event:"sophi_cookie",sophi_type:"isSophiVariantOrHoldout",sophi_cookie_val:e};return t&&(r.sophi_conv=t),window.dataLayer.push(r),!!e&&(e.includes("variant")||e.includes("holdout"))},window.engageLibrary.isSophiVariant=function(){var e=b(),n=P(),t=n?n.Name:null;console.log("Sophi isSophiVariant",e);var r={event:"sophi_cookie",sophi_type:"isSophiVariant",sophi_cookie_val:e};return t&&(r.sophi_conv=t),window.dataLayer.push(r),!!e&&e.includes("variant")},window.engageLibrary.shouldLoadPaywall=function(){var e=P(),n=e?e.Name:null,t=_(),r=!1;"wallType"in t&&(r="paywall"===t.wallType);var o={event:"sophi_decision",sophi_type:"shouldLoadPaywall",sophi_response:r};return n&&(o.sophi_conv=n),window.dataLayer.push(o),console.log("Sophi shouldLoadPaywall",r),r},window.engageLibrary.shouldLoadRegwall=function(){var e=P(),n=e?e.Name:null,t=_(),r=!1;"wallType"in t&&(r="regwall"===t.wallType);var o={event:"sophi_decision",sophi_type:"shouldLoadRegwall",sophi_response:r};return n&&(o.sophi_conv=n),window.dataLayer.push(o),console.log("Sophi shouldLoadRegwall",r),r},window.engageLibrary.responseIsNowall=function(){var e=P(),n=e?e.Name:null,t=_(),r=!1;"wallVisibility"in t&&(r="never"===t.wallVisibility);var o={event:"sophi_decision",sophi_type:"responseIsNowall",sophi_response:r};return n&&(o.sophi_conv=n),window.dataLayer.push(o),console.log("Sophi responseIsNowall",r),r},window.engageLibrary.regwallObj=function(){return!!localStorage.getItem("regwallAlreadyRegistered")},window.engageLibrary.userIsInSegments=function(e){return Array.isArray(e)?a(e):(r.log("No segments provided"),!1)},window.engageLibrary.getUserHhsl=function(){var e;return(null===(e=Connext.Storage.GetUserData().DigitalAccess.Subscription)||void 0===e?void 0:e.HouseholdSubscriptionLevel)||[]},window.engageLibrary.marinRegwallListener=f(h().m(function n(){var t,i,a,s,c,l,d,m,y,p,v,b,L,S,A,I,_,O;return h().w(function(n){for(;;)switch(n.n){case 0:return b=function(){a({valid:!0})},c=function(e){a({valid:!1,message:e})},t=function(){return document.getElementById("tribRegiwallEmailId")||document.getElementById("regiwallEmailId")},i=function(e,n){var t=document.querySelector(".connext-error-message");n?(r.log("Regwall Validate: ","show message: ".concat(e)),t.innerHTML=e,t.style.display="block"):(t.textContent="",t.style.display="none")},a=function(e){e.valid?(i("",!1),t().classList.remove("connext-validation-error")):(r.log("Regwall Validate: ","update message"),i(e.message,!0),t().classList.add("connext-validation-error"))},s=function(e){if(r.log("Regwall Validate: ","In goToSuccessStep"),w(document.querySelectorAll(".hide-on-success")).forEach(function(e){e.style.display="none"}),r.log("Hid .hide-on-success elements"),a({valid:!0}),!0===e){r.log("Regwall Validate: ","Registration success was successful."),w(document.querySelectorAll(".show-on-success")).forEach(function(e){e.style.display="block"}),r.log("Showing .show-on-success elements");var n=t();(window._matherq=window._matherq||[]).push(["paywallEvent",{type:"regwall",category:"regwall_registration",action:"completed"},{email:n.value}]),n.value="",localStorage.setItem("regwallSuccess","yes")}else r.log("Regwall Validate: ","Registration is not unique."),document.querySelector(".show-on-alreadyRegisterd").style.display="block",localStorage.setItem("regwallAlreadyRegistered","yes")},l=function(){return void 0!==window.authentication_config?"1"===window.authentication_config.auth0RegwallUserEmail?{sendEmail:!0,siteURL:window.location.origin,auth0ClientId:window.authentication_config.auth0ClientId,includeLoginLink:!1}:{sendEmail:!1,auth0ClientId:window.authentication_config.auth0ClientId}:{sendEmail:!1,auth0ClientId:!1}},d=function(n){try{"string"==typeof n&&C(e,n,{domain:M(),path:"/",expires:365,secure:!0})}catch(e){r.log("Failed to set auth0_sub cookie: ",e)}},m=function(n){if(!k(e))try{var t=n.claims;if(null===t||void 0===t||"object"!==g(t)&&!Object.keys(t).includes("sub"))return;var o=t.sub;d(o)}catch(e){r.log("Failed to set auth0_sub: ",e)}},y=function(e,n){return new Promise(function(t){try{"undefined"==typeof CnnXt&&(r.log("Connext was not loaded."),t(!1)),r.log("connext subscribeToNewsletter","about to call Cnnxt NewsletterSubscribe with pref id ".concat(n," and email ").concat(e)),CnnXt.API.NewsletterSubscribe({email:e,id:n,onSuccess:function(){r.log("Signed user up to newsletter: ",n),t(!0)},onError:function(e){r.log("subscribeToNewsletter error: ",e),t(!1)}})}catch(e){r.log("subscribeToNewsletter Error:",e),t(!1)}})},p=function(){var e=f(h().m(function e(){var n,o,i,a,s,c,d;return h().w(function(e){for(;;)switch(e.n){case 0:if((n=document.getElementById("tribRegiwallSubButtonId")||document.getElementById("regiwallSubButtonId")).textContent="Validating...",o=t().value,i=window.simpleEmailValidation(o),a=l(),!i.valid){e.n=3;break}if((s=u({email:o},a)).auth0ClientId){e.n=1;break}return e.a(2,{valid:!0,message:"",exist:!1});case 1:return c="".concat(window.authentication_config.entitlementsEndpoint,"auth0/getDefaultUserConnection"),e.n=2,fetch(c,{method:"POST",body:JSON.stringify(s),headers:{"X-API-Key":window.authentication_config.entitlementsAPIKey}}).then(function(e){return e.json()}).then(function(e){return"object"===g(e)&&e.uuid?{valid:!0,message:"",exist:!0}:"object"===g(e)&&e.newUserCreated?(n.textContent="Submitting...",{valid:!0,message:"",exist:!1,uuid:e.newUserCreated,email:o}):{valid:!0,message:"",exist:!1,email:o}}).catch(function(e){return r.log("Regwall Validate: ",e),n.textContent="Continue",{valid:!1,message:"Email validation network error, try again.",exist:null}});case 2:return d=e.v,e.a(2,d);case 3:return e.a(2,{valid:!1,message:"This email is blocked, try another.",exist:null})}},e)}));return function(){return e.apply(this,arguments)}}(),v=function(){var e=f(h().m(function e(n){var t,u,d;return h().w(function(e){for(;;)switch(e.n){case 0:return r.log("Regwall Validate: ","starting subscribe function"),n.preventDefault(),t=document.querySelector(".registrationWallID").textContent,e.n=1,p();case 1:if(!1===(u=e.v).valid&&((document.getElementById("tribRegiwallSubButtonId")||document.getElementById("regiwallSubButtonId")).textContent="Continue"),a(u),!(u.valid&&t.length>0&&!1===u.exist)){e.n=3;break}return r.log("Regwall Validate: ","validation good, success message"),e.n=2,y(u.email,t);case 2:e.v?(r.log("Regwall Validate: ","newsletter subscription was successful."),l().sendEmail&&(window.localStorage.setItem(o,"false"),(d={claims:{}}).claims.sub=u.uuid,m(d),r.log("Regwall Validate: ","Set the ".concat(o," storage object."))),s(!0)):(r.log("Regwall Validate: ","newsletter subscription was a FAIL."),c("Newsletter subscription failed.")),e.n=4;break;case 3:u.valid&&t.length>0&&!0===u.exist?(r.log("Regwall Validate: ","validation failed, email already exists"),s(!1),i("Email already exists, try again.",!0)):0===t.length&&(r.log("Regwall Validate: ","validation failed, no newsletter code"),i("Newsletter field is empty",!0));case 4:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),L=window.engageLibrary.getPageType(),r.log("Regwall Validate: ","Page type is ",L),n.n=1,MNGAuthentication.getUserInfo();case 1:if(S=n.v,r.log("Regwall Validate: ","userInfo has: ",S),"article"===L&&!S.authenticated){n.n=2;break}return r.log("Regwall Validate: ","Returning, since page type was not article or user was logged in"),n.a(2);case 2:r.log("Regwall Validate: ","Starting regwall validation code, adding listeners."),(A=document.getElementById("tribRegiwallSubButtonId"))&&A.addEventListener("click",v),(I=document.getElementsByClassName("connext-trib-email-input")).length>0&&I[0].addEventListener("input",b),(_=document.getElementById("regiwallSubButtonId"))&&_.addEventListener("click",v),(O=document.getElementsByClassName("connext-email-input")).length>0&&O[0].addEventListener("input",b),document.addEventListener("keyup",function(e){"Enter"!==e.code||"tribRegiwallEmailId"!==document.activeElement.id&&"regiwallEmailId"!==document.activeElement.id||v(e)});case 3:return n.a(2)}},n)})),window.engageLibrary.showModal=function(e){},window.engageLibrary.createCompSubModal=function(){var e,o=document.querySelector(".hidden-logo a").getAttribute("aria-label"),i="",a={domain:"",email:"",firstName:"",lastName:"",phone:"5555555555",zipCode:""},s=function(){var n=f(h().m(function n(){var t,a,s,u,d;return h().w(function(n){for(;;)switch(n.n){case 0:if(t=window.engageLibrary.userIsAuthenticated(),console.log("Comp Sub conversation | user found ",t),$("#solicit-header").text("Get a complimentary trial subscription to ".concat(o)),!t){n.n=5;break}return n.p=1,a=c(window.MNGAuthentication.authenticationReady.idToken),s=a.email,u=a.auth0Id,n.n=2,m(u);case 2:e=n.v,r.log("Comp Sub conversation | getting email, user details from services ",s,e),i=s,n.n=4;break;case 3:n.p=3,d=n.v,console.log("error in setup ",d);case 4:n.n=6;break;case 5:g("We are unable to provide this email address with this offer.");case 6:document.querySelector("#email-address").placeholder=i,document.querySelector("#compSignupButton").removeAttribute("disabled"),l();case 7:return n.a(2)}},n,null,[[1,3]])}));return function(){return n.apply(this,arguments)}}(),l=function(){document.querySelector("#trialCompClose").addEventListener("click",function(e){e.preventDefault(),window.location.replace("/")}),document.querySelector("#compCancelButton").addEventListener("click",function(e){e.preventDefault(),window.location.replace("/")}),document.querySelectorAll(".trial-form-input").forEach(function(e){e.addEventListener("blur",w),e.addEventListener("focus",u)}),document.querySelector("#compSignupButton").addEventListener("click",d),document.querySelector("#closeModalAfterSuccess").addEventListener("click",function(){var e=f(h().m(function e(n){var t,r,o,i;return h().w(function(e){for(;;)switch(e.n){case 0:if(!(t=localStorage.getItem("__MNG_Session"))){e.n=4;break}return e.p=1,o=JSON.parse(t),r=o.entitlementToken,e.n=2,y(r);case 2:window.location.replace(window.location.origin+window.location.pathname),e.n=4;break;case 3:e.p=3,i=e.v,console.error("Failed to parse __MNG_Session:",i),window.location.replace("/");case 4:return e.a(2)}},e,null,[[1,3]])}));return function(n){return e.apply(this,arguments)}}())},u=function(e){"zip-code"==e.target.id&&($("#zipError1").hide(),$(e.target).closest("div").css("border","1px solid #CCC"))},d=function(){var n=f(h().m(function n(t){var o,s,c,l,u,d,w,m,y,f,p,v,L;return h().w(function(n){for(;;)switch(n.n){case 0:if(o=$("#zip-code").val(),s=b(o),r.log("Comp Sub conversation | begin submit"),!s){n.n=5;break}return n.p=1,(l=new Date).setDate(l.getDate()+1),(u=new Date(l)).setDate(l.getDate()+180),(d=document.querySelector("#compSignupButton")).setAttribute("disabled",!0),d.textContent="Creating subscription",r.log("Comp Sub conversation | fields valid",s),w=window.engageLibrary.getDataLayerEntry("Publisher Domain"),(m=document.createElement("div")).classList.add("spring-spinner"),m.id="compSubSpinner",m.innerHTML='\n\t\t\t\t\t<div class="spring-spinner-part top">\n\t\t\t\t\t<div class="spring-spinner-rotator"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="spring-spinner-part bottom">\n\t\t\t\t\t<div class="spring-spinner-rotator"></div>\n\t\t\t\t\t</div>',d.appendChild(m),a.domain=w,a.email=i,a.zipCode=o,e&&null!==(c=e)&&void 0!==c&&c.fullName.includes(" ")?(y=e.fullName.split(" ")[0],f=e.fullName.split(" ")[1],a.firstName=y||"unknown",a.lastName=f||"unknown"):(a.firstName?a.firstName=e.fullName:a.firstName="unknown",e.nickname?a.lastName=e.nickname:a.lastName="unknown"),r.log("Comp Sub conversation | parameters submit body ",a),n.n=2,fetch("".concat(window.authentication_config.entitlementsEndpoint,"comp/create"),{method:"POST",headers:{"X-Api-Key":window.authentication_config.entitlementsAPIKey},body:JSON.stringify(a)});case 2:return p=n.v,n.n=3,p.json();case 3:return v=n.v,200===p.status?(document.querySelector("#compSubFormBody").classList.add("hidden"),r.log("Comp Sub conversation | Success! this should add a comp sub to the user ",p),document.querySelector("#compSubSuccessBody").classList.remove("hidden"),window.dataLayer.push({event:"digisubs_subscription",sub_id:[v.Result.SubscriptionId],sub_type:"comp",sub_start:[l.toISOString()],sub_end:[u.toISOString()]})):(r.log("Comp Sub conversation | fail - this is the body ",v),g("The provided email address does not qualify for a complimentary subscription at this time.")),n.a(2);case 4:n.p=4,L=n.v,r.log("Comp Sub conversation | fetch error ",L),g("We are unable to provide this email address with this offer.");case 5:s||($("#zip-code").closest("div").css("border","1px solid #F00"),$("#zipError1").show());case 6:return n.a(2)}},n,null,[[1,4]])}));return function(e){return n.apply(this,arguments)}}(),g=function(e){document.querySelector("#compSubFormBody").classList.add("hidden"),document.querySelector("#subAlreadyExistsBody").classList.remove("hidden"),document.querySelector("#error-message").textContent=e},w=function(e){var n=$("#zip-code").val(),t=b(n);"zip-code"===$(e.target).prop("id")&&(t||($(e.target).closest("div").css("border","1px solid #F00"),$("#zipError1").show()))},m=function(){var e=f(h().m(function e(n){var t,o,i;return h().w(function(e){for(;;)switch(e.n){case 0:return e.p=0,e.n=1,fetch("".concat(window.authentication_config.entitlementsEndpoint,"auth0/users/").concat(n),{method:"GET",headers:{"X-Api-Key":window.authentication_config.entitlementsAPIKey}});case 1:return t=e.v,e.n=2,t.json();case 2:return o=e.v,r.log("Comp sub conversation | logged in user details ",o),e.a(2,o);case 3:e.p=3,i=e.v,console.log("Comp sub conversation | ",i),g("We are unable to provide this email address with this offer.");case 4:return e.a(2)}},e,null,[[0,3]])}));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=f(h().m(function e(n){var t,o,i,a;return h().w(function(e){for(;;)switch(e.n){case 0:if(e.p=0,r.log("Entitlements: refresh JWT start..."),n){e.n=1;break}return e.a(2,new Error("No token to refresh"));case 1:return r.log("Entitlements refresh: entitlement token: ",n),t={jwt:n},e.n=2,fetch("".concat(window.authentication_config.entitlementsEndpoint,"session/refresh"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json; charset=utf-8","X-Api-Key":window.authentication_config.entitlementsAPIKey},body:JSON.stringify(t)});case 2:return o=e.v,e.n=3,o.json();case 3:return i=e.v,e.n=4,p(i.jwt);case 4:e.n=6;break;case 5:e.p=5,a=e.v,console.log("error reseting token ",a);case 6:return e.a(2)}},e,null,[[0,5]])}));return function(n){return e.apply(this,arguments)}}(),p=function(){var e=f(h().m(function e(n){var o;return h().w(function(e){for(;;)switch(e.n){case 0:try{v(n),r.log("About to decode token before saving: ",n),o=c(n),window.localStorage.setItem(t,JSON.stringify({entitlementToken:n,expiration:o.entitlement_expiry,entitlementSource:o.entitlement_source,isEntitled:o.entitlement_entitled,adFree:o.entitlement_extras_adfree||!1,entitlementLevel:o.entitlement_level}))}catch(e){r.log("Entitlements: Failed to save token: ",e)}case 1:return e.a(2)}},e)}));return function(n){return e.apply(this,arguments)}}(),v=function(e){C(n,e,{path:"/",domain:M(),expires:365,secure:!0})},b=function(e){return/^\d{5}(-\d{4})?$/.test(e)};s()}},A=function(){window.engageLibrary=window.engageLibrary||{},window.engageLibrary.runTest=function(){r.log("pageIsInPreview() - Page is on preview: ",window.engageLibrary.pageIsInPreview()),r.log("subscribersForMigration() - Is on Subscriber for Migration segment: ",window.engageLibrary.subscribersForMigration()),r.log("isEntitledValue() - Has entitled access: ",window.engageLibrary.isEntitledValue()),r.log("printCheck() - Is print level: ",window.engageLibrary.printCheck()),r.log("getPageType() - Page type is: ",window.engageLibrary.getPageType()),r.log("getSection() - Section is: ",window.engageLibrary.getSection()),r.log("getPaywallLevel() - Paywall level is: ",window.engageLibrary.getPaywallLevel()),r.log("premiumFeatureExclusiveDP() - DP article flagged as exclusive feature: ",window.engageLibrary.premiumFeatureExclusiveDP()),r.log("regwallObj() - Regwall is already registered: ",window.engageLibrary.regwallObj()),r.log("allReadersTag() - Article contains all readers tag: ",window.engageLibrary.allReadersTag()),r.log("isOpinionPiece() - Contains Opinion tag: ",window.engageLibrary.isOpinionPiece()),r.log("isEspanolContent() - Contains espanol tag: ",window.engageLibrary.isEspanolContent()),r.log("isPhotosAndVideos() - Contains photos and videos tag: ",window.engageLibrary.isPhotosAndVideos()),r.log("isAthleteOfWeek() - Contains athlete of the week tag: ",window.engageLibrary.isAthleteOfWeek()),r.log("isContests() - Contains contests tag: ",window.engageLibrary.isContests()),r.log("getTaxonomy1() - Is Taxonomy1 present: ",window.engageLibrary.getTaxonomy1()),r.log("profileDropDownExists() - Does profile dropdown exist: ",window.engageLibrary.profileDropDownExists()),r.log("twinCitiesKnownEmail() - User is in segment Twincities - known email: ",window.engageLibrary.twinCitiesKnownEmail()),r.log("twinCitiesUrlCheck() - Is current url twincities.com:  ",window.engageLibrary.twinCitiesUrlCheck()),r.log("pmpUrlCheck() - Is current url PMP ",window.engageLibrary.pmpUrlCheck()),r.log("whySubscribePageCheck() Is user on why-subscribe page: ",window.engageLibrary.whySubscribePageCheck()),window.sophi&&(r.log("isSophiVariant() - Is Sophi variant: ",window.engageLibrary.isSophiVariant()),r.log("shouldLoadPaywall() - Sophi should load Paywall: ",window.engageLibrary.shouldLoadPaywall()),r.log("shouldLoadRegwall() - Sophi should load Regwall: ",window.engageLibrary.shouldLoadRegwall()),r.log("responseIsNowall() - Sophi no wall response: ",window.engageLibrary.responseIsNowall())),r.log("mercurynewsIsMeteredArchive() - mercurynews is metered archive: ",window.engageLibrary.mercurynewsIsMeteredArchive()),r.log("ocregisterIsMeteredArchive() - ocregister is metered archive: ",window.engageLibrary.ocregisterIsMeteredArchive()),r.log("pressenterpriseIsMeteredArchive() - pressenterprise is metered archive: ",window.engageLibrary.pressenterpriseIsMeteredArchive()),r.log("eastbayIsMeteredArchive() - eastbay is metered archive: ",window.engageLibrary.eastbayIsMeteredArchive()),r.log("marinijIsMeteredArchive() - marinij is metered archive: ",window.engageLibrary.marinijIsMeteredArchive()),r.log("bostonheraldIsMeteredArchive() - bostonherald is metered archive: ",window.engageLibrary.bostonheraldIsMeteredArchive()),r.log("lowellsunIsMeteredArchive() - lowellsun is metered archive: ",window.engageLibrary.lowellsunIsMeteredArchive()),r.log("sentinelIsMeteredArchive() - sentinel is metered archive: ",window.engageLibrary.sentinelIsMeteredArchive()),r.log("dailyfreemanIsMeteredArchive() - dailyfreeman is metered archive: ",window.engageLibrary.dailyfreemanIsMeteredArchive()),r.log("dailycameraIsMeteredArchive() - dailycamera is metered archive: ",window.engageLibrary.dailycameraIsMeteredArchive()),r.log("greeleytribuneIsMeteredArchive() - greeleytribune is metered archive: ",window.engageLibrary.greeleytribuneIsMeteredArchive()),r.log("reporterheraldIsMeteredArchive() - reporterherald is metered archive: ",window.engageLibrary.reporterheraldIsMeteredArchive()),r.log("timescallIsMeteredArchive() - timescall is metered archive",window.engageLibrary.timescallIsMeteredArchive()),r.log("santacruzsentinelIsMeteredArchive() - santacruzsentinel is metered archive: ",window.engageLibrary.santacruzsentinelIsMeteredArchive()),r.log("montereyheraldIsMeteredArchive() - montereyherald is metered archive: ",window.engageLibrary.montereyheraldIsMeteredArchive()),r.log("chicoerIsMeteredArchive() - chicoer is metered archive: ",window.engageLibrary.chicoerIsMeteredArchive()),r.log("courantIsMeteredArchive() - courant is metered archive: ",window.engageLibrary.courantIsMeteredArchive()),r.log("mcallIsMeteredArchive() - mcall is metered archive",window.engageLibrary.mcallIsMeteredArchive()),r.log("orlandosentinelIsMeteredArchive() - orlandosentinel is metered archive: ",window.engageLibrary.orlandosentinelIsMeteredArchive()),r.log("sunsentinelIsMeteredArchive() - sunsentinel is metered archive: ",window.engageLibrary.sunsentinelIsMeteredArchive()),r.log("pilotonlineIsMeteredArchive() - pilotonline is metered archive: ",window.engageLibrary.pilotonlineIsMeteredArchive()),r.log("dailypressIsMeteredArchive() - dailypress is metered archive: ",window.engageLibrary.dailypressIsMeteredArchive()),r.log("nydailynewsIsMeteredArchive() - nydailynews is metered archive: ",window.engageLibrary.nydailynewsIsMeteredArchive()),r.log("baltimoresunIsMeteredArchive() - baltimoresun is metered archive: ",window.engageLibrary.baltimoresunIsMeteredArchive()),r.log("capitalgazetteIsMeteredArchive() - capitalgazette is metered archive: ",window.engageLibrary.capitalgazetteIsMeteredArchive()),r.log("articleSharingExpire() - Article share expire status: ",window.engageLibrary.articleSharingExpire()),r.log("getRegwallSuccess() - regwallSuccess exists on local storage: ",window.engageLibrary.getRegwallSuccess()),r.log("getRegwallKnown() - regwallKnown exists on local storage: ",window.engageLibrary.getRegwallKnown()),r.log("userIsAuthenticated() - Is user authenticated: ",window.engageLibrary.userIsAuthenticated()),r.log("getUserHhsl() - User current Hhsl is: ",window.engageLibrary.getUserHhsl())},window.engageLibrary.bcRunTests=function(){r.log("panymaGiveBCAccess() Page is on preview: ",window.engageLibrary.panymaGiveBCAccess()),r.log("bcLowaCheck() - segment for LOWA user: ",window.engageLibrary.bcLowaCheck()),r.log("checkBCForNonSub() - Check for non-sub: ",window.engageLibrary.checkBCForNonSub()),r.log("allSubsGiveBCAccess() - User is on All Active Subscribers segment: ",window.engageLibrary.allSubsGiveBCAccess()),r.log("crossOverGiveBCAccess() - User is on CrossOver PremSubs segment: ",window.engageLibrary.crossOverGiveBCAccess()),r.log("caGiveBCAccess() - User is on CA Print Only Subs segment: ",window.engageLibrary.caGiveBCAccess()),r.log("bcAdblockDetection() - User is on Adblock Users segment",window.engageLibrary.bcAdblockDetection()),r.log("pmpGiveBCAccess() - User is on PMP_KnownNonSubsAll segment",window.engageLibrary.pmpGiveBCAccess())}};function I(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var e,n,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function i(t,r,o,i){var c=r&&r.prototype instanceof s?r:s,l=Object.create(c.prototype);return _(l,"_invoke",function(t,r,o){var i,s,c,l=0,u=o||[],d=!1,g={p:0,n:0,v:e,a:w,f:w.bind(e,4),d:function(n,t){return i=n,s=0,c=e,g.n=t,a}};function w(t,r){for(s=t,c=r,n=0;!d&&l&&!o&&n<u.length;n++){var o,i=u[n],w=g.p,h=i[2];t>3?(o=h===r)&&(c=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=e):i[0]<=w&&((o=t<2&&w<i[1])?(s=0,g.v=r,g.n=i[1]):w<h&&(o=t<3||i[0]>r||r>h)&&(i[4]=t,i[5]=r,g.n=h,s=0))}if(o||t>1)return a;throw d=!0,r}return function(o,u,h){if(l>1)throw TypeError("Generator is already running");for(d&&1===u&&w(u,h),s=u,c=h;(n=s<2?e:c)||!d;){i||(s?s<3?(s>1&&(g.n=-1),w(s,c)):g.n=c:g.v=c);try{if(l=2,i){if(s||(o="next"),n=i[o]){if(!(n=n.call(i,c)))throw TypeError("iterator result is not an object");if(!n.done)return n;c=n.value,s<2&&(s=0)}else 1===s&&(n=i.return)&&n.call(i),s<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=e}else if((n=(d=g.n<0)?c:t.call(r,g))!==a)break}catch(n){i=e,s=1,c=n}finally{l=1}}return{value:n,done:d}}}(t,o,i),!0),l}var a={};function s(){}function c(){}function l(){}n=Object.getPrototypeOf;var u=[][r]?n(n([][r]())):(_(n={},r,function(){return this}),n),d=l.prototype=s.prototype=Object.create(u);function g(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,_(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return c.prototype=l,_(d,"constructor",l),_(l,"constructor",c),c.displayName="GeneratorFunction",_(l,o,"GeneratorFunction"),_(d),_(d,o,"Generator"),_(d,r,function(){return this}),_(d,"toString",function(){return"[object Generator]"}),(I=function(){return{w:i,m:g}})()}function _(e,n,t,r){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(_=function(e,n,t,r){if(n)o?o(e,n,{value:t,enumerable:!r,configurable:!r,writable:!r}):e[n]=t;else{var i=function(n,t){_(e,n,function(e){return this._invoke(n,t,e)})};i("next",0),i("throw",1),i("return",2)}})(e,n,t,r)}function k(e,n,t,r,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void t(e)}s.done?n(c):Promise.resolve(c).then(r,o)}(function(){var e=function(e){return function(){var n=this,t=arguments;return new Promise(function(r,o){var i=e.apply(n,t);function a(e){k(i,r,o,a,s,"next",e)}function s(e){k(i,r,o,a,s,"throw",e)}a(void 0)})}}(I().m(function e(){return I().w(function(e){for(;;)switch(e.n){case 0:S(),A(),console.log("Engage Library loaded: ".concat((new Date).getTime()));case 1:return e.a(2)}},e)}));return function(){return e.apply(this,arguments)}})()()}]);
//# sourceMappingURL=engageLibrary.min.js.map;
(()=>{"use strict";window.authentication_config.sessionManagementEnabled="1"===window.authentication_config.sessionManagement;window.authentication_config.debug,window.authentication_config&&window.authentication_config.sessionServer,!!window.authentication_config&&window.authentication_config.entitlementsEnabled,!!window.authentication_config&&window.authentication_config.dropdownEnabled,!!window.authentication_config&&window.authentication_config.enableReaderDashboardLink,!!window.authentication_config&&window.authentication_config.oneTapEnabled,!!window.authentication_config&&window.authentication_config.useTribMainGoogle,!!window.authentication_config&&window.authentication_config.isAdfreeArticle,window.authentication_config&&window.authentication_config.auth0Domain,window.authentication_config&&window.authentication_config.auth0ClientId,window.authentication_config&&window.authentication_config.entitlementsEndpoint,window.authentication_config&&window.authentication_config.entitlementsAPIKey,!!window.authentication_config&&window.authentication_config.linaCheckOnArticles,!!window.authentication_config&&window.authentication_config.serverEntitlements,window.authentication_config&&window.authentication_config.googleClientId,window.authentication_config&&window.authentication_config.newsletterId,window.authentication_config&&window.authentication_config.pluginSecret,!!window.authentication_config&&window.authentication_config.newslettersEnabled,!!window.authentication_config.bcLowaSegements&&window.authentication_config.bcLowaSegements,!!window.authentication_config.blueconicEnabled&&window.authentication_config.blueconicEnabled,!!window.authentication_config.enableDatadog&&window.authentication_config.enableDatadog})();
//# sourceMappingURL=mng-digisubs.settings.bundle.js.map;
/*! For license information please see mng-digisubs.connextUtils.bundle.js.LICENSE.txt */
(()=>{"use strict";var t={8805:(t,n,e)=>{e.d(n,{A:()=>o}),window.authentication_config.sessionManagementEnabled="1"===window.authentication_config.sessionManagement;const o={debug:!!window.authentication_config.debug,sessionServer:window.authentication_config?window.authentication_config.sessionServer:"",entitlementsEnabled:!!window.authentication_config&&"1"===window.authentication_config.entitlementsEnabled,dropdownEnabled:!!window.authentication_config&&"1"===window.authentication_config.dropdownEnabled,enableReaderDashboardLink:!!window.authentication_config&&"1"===window.authentication_config.enableReaderDashboardLink,oneTapEnabled:!!window.authentication_config&&"1"===window.authentication_config.oneTapEnabled,useTribMainGoogle:!!window.authentication_config&&"1"===window.authentication_config.useTribMainGoogle,isAdfreeArticle:!!window.authentication_config&&"1"===window.authentication_config.isAdfreeArticle,auth0Domain:window.authentication_config?window.authentication_config.auth0Domain:"",auth0ClientId:window.authentication_config?window.authentication_config.auth0ClientId:"",entitlementsEndpoint:window.authentication_config?window.authentication_config.entitlementsEndpoint:"",entitlementsApiKey:window.authentication_config?window.authentication_config.entitlementsAPIKey:"",linaCheckOnArticles:!!window.authentication_config&&window.authentication_config.linaCheckOnArticles,serverEntitlements:!!window.authentication_config&&window.authentication_config.serverEntitlements,googleClientId:window.authentication_config?window.authentication_config.googleClientId:"",newsletterId:window.authentication_config?window.authentication_config.newsletterId:0,connextStorageKey:"",auth0SubKey:"auth0_sub",auth0Authenticated:"auth0.is.authenticated",secret:window.authentication_config?window.authentication_config.pluginSecret:"",newslettersEnabled:!!window.authentication_config&&"1"===window.authentication_config.newslettersEnabled,bcLowaSegements:!!window.authentication_config.bcLowaSegements&&"1"===window.authentication_config.bcLowaSegements,blueconicEnabled:!!window.authentication_config.blueconicEnabled&&"1"===window.authentication_config.blueconicEnabled,datadogEnabled:!!window.authentication_config.enableDatadog&&"1"===window.authentication_config.enableDatadog}}},n={};function e(o){var i=n[o];if(void 0!==i)return i.exports;var r=n[o]={exports:{}};return t[o](r,r.exports,e),r.exports}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function i(t,n,e,o,i,r,a){try{var c=t[r](a),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(o,i)}function r(t){return function(){var n=this,e=arguments;return new Promise((function(o,r){var a=t.apply(n,e);function c(t){i(a,o,r,c,u,"next",t)}function u(t){i(a,o,r,c,u,"throw",t)}c(void 0)}))}}function a(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}e.d=(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},e.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n);var u=e(8805);const s=function(){if(u.A.debug){for(var t,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];(t=console).log.apply(t,["MNGDigisubs:"].concat(e))}},l=10;function f(){f=function(){return n};var t,n={},e=Object.prototype,i=e.hasOwnProperty,r=Object.defineProperty||function(t,n,e){t[n]=e.value},a="function"==typeof Symbol?Symbol:{},c=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{l({},"")}catch(t){l=function(t,n,e){return t[n]=e}}function h(t,n,e,o){var i=n&&n.prototype instanceof m?n:m,a=Object.create(i.prototype),c=new j(o||[]);return r(a,"_invoke",{value:k(t,e,c)}),a}function d(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}n.wrap=h;var w="suspendedStart",p="suspendedYield",v="executing",y="completed",g={};function m(){}function b(){}function x(){}var _={};l(_,c,(function(){return this}));var E=Object.getPrototypeOf,L=E&&E(E(R([])));L&&L!==e&&i.call(L,c)&&(_=L);var C=x.prototype=m.prototype=Object.create(_);function S(t){["next","throw","return"].forEach((function(n){l(t,n,(function(t){return this._invoke(n,t)}))}))}function T(t,n){function e(r,a,c,u){var s=d(t[r],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==o(f)&&i.call(f,"__await")?n.resolve(f.__await).then((function(t){e("next",t,c,u)}),(function(t){e("throw",t,c,u)})):n.resolve(f).then((function(t){l.value=t,c(l)}),(function(t){return e("throw",t,c,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(t,o){function i(){return new n((function(n,i){e(t,o,n,i)}))}return a=a?a.then(i,i):i()}})}function k(n,e,o){var i=w;return function(r,a){if(i===v)throw new Error("Generator is already running");if(i===y){if("throw"===r)throw a;return{value:t,done:!0}}for(o.method=r,o.arg=a;;){var c=o.delegate;if(c){var u=O(c,o);if(u){if(u===g)continue;return u}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(i===w)throw i=y,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);i=v;var s=d(n,e,o);if("normal"===s.type){if(i=o.done?y:p,s.arg===g)continue;return{value:s.arg,done:o.done}}"throw"===s.type&&(i=y,o.method="throw",o.arg=s.arg)}}}function O(n,e){var o=e.method,i=n.iterator[o];if(i===t)return e.delegate=null,"throw"===o&&n.iterator.return&&(e.method="return",e.arg=t,O(n,e),"throw"===e.method)||"return"!==o&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+o+"' method")),g;var r=d(i,n.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,g;var a=r.arg;return a?a.done?(e[n.resultName]=a.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,g):a:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,g)}function A(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function I(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function R(n){if(n||""===n){var e=n[c];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,a=function e(){for(;++r<n.length;)if(i.call(n,r))return e.value=n[r],e.done=!1,e;return e.value=t,e.done=!0,e};return a.next=a}}throw new TypeError(o(n)+" is not iterable")}return b.prototype=x,r(C,"constructor",{value:x,configurable:!0}),r(x,"constructor",{value:b,configurable:!0}),b.displayName=l(x,s,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===b||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,l(t,s,"GeneratorFunction")),t.prototype=Object.create(C),t},n.awrap=function(t){return{__await:t}},S(T.prototype),l(T.prototype,u,(function(){return this})),n.AsyncIterator=T,n.async=function(t,e,o,i,r){void 0===r&&(r=Promise);var a=new T(h(t,e,o,i),r);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},S(C),l(C,s,"Generator"),l(C,c,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),e=[];for(var o in n)e.push(o);return e.reverse(),function t(){for(;e.length;){var o=e.pop();if(o in n)return t.value=o,t.done=!1,t}return t.done=!0,t}},n.values=R,j.prototype={constructor:j,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!n)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function o(o,i){return c.type="throw",c.arg=n,e.next=o,i&&(e.method="next",e.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&i.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var r=o;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=n&&n<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=t,a.arg=n,r?(this.method="next",this.next=r.finallyLoc,g):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),g},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),I(e),g}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var o=e.completion;if("throw"===o.type){var i=o.arg;I(e)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,o){return this.delegate={iterator:R(n),resultName:e,nextLoc:o},"next"===this.method&&(this.arg=t),g}},n}window.disableAuth0AuthFlow=!0;var h=function(t,n){function e(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"readyInstance",null),c(this,"promiseStatus",null),c(this,"connextAlreadyRan",!1),c(this,"eventListeners",{}),c(this,"runConnextIfSilentTimer",void 0)}var o,i,u;return o=e,i=[{key:"init",value:function(){this.setupRunTimer()}},{key:"setupRunTimer",value:function(){var t=this;this.runConnextIfSilentTimer=setTimeout(r(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.connextReady();case 2:n.sent&&(s("".concat(l," second Connext timer is up.")),t.rerunConnextEntitlements());case 4:case"end":return n.stop()}}),n)}))),1e3*l)}},{key:"connextReady",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"onInit";return this.readyInstance&&!1!==this.promiseStatus?s("connextReady promise already exists, status is ".concat(this.promiseStatus,".")):(this.connextTimeout&&clearTimeout(this.connextTimeout),s("Creating new connext ready promise..."),this.readyInstance=new Promise((function(e){var o=!1;t.promiseStatus="pending";var i=function(n){o||(t.promiseStatus=n,e(n),o=!0)},r=setTimeout((function(){"string"==typeof n&&t.removeEventListener(n),"undefined"!=typeof Connext?(s("Connext actually did load..."),clearTimeout(r),t.connextTimeout=null,i(!0)):(s("Connext did not load in time. Resolving false..."),clearTimeout(r),t.connextTimeout=null,i(!1))}),7e3);if(t.connextTimeout=r,"undefined"!=typeof Connext)s("Connext already ready."),clearTimeout(r),"string"==typeof n&&t.removeEventListener(n),i(!0);else{s("Listening for Connext Ready event...");var a=function(){clearTimeout(r),s("Connext loaded!"),i(!0),"string"==typeof n&&t.removeEventListener(n)};document.addEventListener("string"==typeof n?n:"onFinish",a),"string"==typeof n&&(t.eventListeners[n]=a),s("Connext added event listener for ".concat(n))}}))),this.readyInstance}},{key:"runConnext",value:function(){s("Running Connext now..."),Connext.Run(),this.connextAlreadyRan=!0,this.runConnextIfSilentTimer&&clearTimeout(this.runConnextIfSilentTimer)}},{key:"rerunConnextEntitlements",value:function(){return(t=t||r(f().mark((function t(){var n,e=arguments;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.length>0&&void 0!==e[0]&&e[0],t.next=3,this.connextReady();case 3:if(t.sent){t.next=6;break}return t.abrupt("return");case 6:if(Connext&&!this.connextAlreadyRan){t.next=8;break}return t.abrupt("return");case 8:n&&Connext.GetOptions().Silentmode?this.runConnext():n?s("Not rerunning Connext"):this.runConnext();case 9:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}},{key:"runConnextIfSilent",value:function(){return(n=n||r(f().mark((function t(){var n,e,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.connextReady();case 2:if(o=t.sent,"1"!==(null===(n=window.authentication_config)||void 0===n?void 0:n.sophiSDKEnabled)&&"1"!==(null===(e=window.authentication_config)||void 0===e?void 0:e.sophiOnDevice)&&!this.connextAlreadyRan){t.next=5;break}return t.abrupt("return");case 5:o&&Connext.GetOptions().Silentmode&&(s("Silent mode, running Connext now."),this.rerunConnextEntitlements());case 6:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}},{key:"removeEventListener",value:function(t){this.eventListeners[t]?(document.removeEventListener(t,this.eventListeners[t]),delete this.eventListeners[t],s("Connext removed event listener for ".concat(t,"."))):s("No event listener to remove for ".concat(t,"."))}}],i&&a(o.prototype,i),u&&a(o,u),e}();window.ConnextUtils=window.ConnextUtils||new h})();
//# sourceMappingURL=mng-digisubs.connextUtils.bundle.js.map;
